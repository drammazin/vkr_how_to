# ВКР на политфаке: how to? 

Проект по курсу "Основы программирования в Питон"

*Смирнов Никита, Иванешкина Анна (БПТ-181)*

## Description:

Программа позволяет сориентироваться в научной среде Вышки — найти себе потенциального научника и уточнить поле собственных интересов, поместив их в контекст уже написанных ВКР. По запросу пользователь получит некоторую текстовую вводную с короткой информацией, а также Excel-файл, в котором будут собраны примеры ВКР. 

## Основные шаги работы с программой:

У пользователя есть два варианта. 

**1 (более простой)** 

Если вы студент 2020-2021 года и учитесь на ФСН — вам нужны только файл `3_user.ipunb` и база данных `vkr_lemm.csv`. Чтобы получить нужную выдачу, пройдитесь по следующим этапам: 

1. Во второй ячейке с кодом измените путь файла на тот, куда вы сохранили базу:

`vkr = pd.read_csv(r'your_path', index_col='Unnamed: 0')` 

Вместо `your_path` вставьте ваш пуь к файлу базы (например, C:\Users\dramm\Desktop\vkr_lemm.csv). 

2. Запустите все ячейки до второго пункта (2: ввод). Когда вы запустите ячейку, перед вами последовательно появятся три окна для ввода параметров. **Обязательно** вводите их в следующем формате: 

* Какой фильтр вы хотите (1: только научный руководитель, 2: научник и ключевые слова, 3: только ключевые слова)
* Введите фамилию научного руководителя (или оставьте поле пустым)
* Введите ключевые слова через запятую (или оставьте поле пустым)

3. Запустите все ячейки далее, последовательно. Вы увидите три основных вещи: 

* В ячейке с кодом `print(message)` вы увидите сводку 
* В ячейке с кодом `res.hist(column='mark')` вы увидите распределение оценок за ВКР, попавшие в выдачу
3* В последней ячейке замените параметр `file_name = r'your_path'` на место, куда вы хотите сохранить итоговый файл. Это будет Excel-файл с выборкой ВКР по вашим параметром с большим количеством информации, которую вы сможете использовать, чтобы написать ВКР на заветную десятку :) 


**2 (более сложный)** 

Если вам нужны актуальные данные на ваш период, или вы хотите изучить программы не с ФСН — вам нужно будет спарсить информацию еще один раз. Для этого выполните следующую последовательность действий:

1. Откройте файл `1_sbor.ipynb`. Установите нужные пакеты (запустите 1 ячейку), при необходимости установите их в отдельной ячейке. Для этого используйте нужные части кода `!pip install selenium`, где вместо selenium вставьте название нужного вам пакета. 

2. Далее задайте функцию-парсер (просто прогоните 2 ячейку) и запустите е на нужных вам программах (ячейку 3 нужно изменить): 

`df = pd.concat([parse('program', i) for i in range(1, max_pages)])`

* df: название вашей переменной для одной программы
* program: строка с названием программы на сайте Вышки (найти ее нужно вот так: https://www.hse.ru/ba/ЗДЕСЬНАЗВАНИЕПРОГРАММЫ/students/diplomas/)
* max_pages: количество страниц с ВКР, которые вы хотите спарсить (они расположены внизу) 

Объедините итоговые датафреймы: 

`programs = [pr1, pr2, ..., prn]
fsn = pd.concat(programs)`

Где programs — список ОП, а fsn — название итогового датафрейма, оно используется далее. 

3. В 4 ячейке вы можете изменить время `time.sleep(0.3)`, если ваш интернет не настолько медленный (на что я искренне надеюсь). 

4. В 5 ячейке не забудьте изменить путь к вебдрайверу (`br = wd.Chrome(r'your_path')`, например вместо your_path может быть указано C:\Users\dramm\Desktop\chromedriver.exe.

5. В 6 ячейке также укажите правильный путь к вебдрайверу. 

6. Сохраните итоговый датафрейм в CVS по нужному вам пути, он вам еще понадобится :) Для этого вставьте в последнюю ячейку ваш путь: `vkr.to_csv(r'your_path')`.  

7. Далее запустите файл `2_lemma.ipynb`. При необходимости установите нужные пакеты, как это указано в п. 1. Помимо этого, нужно только заменить путь считывания CSV в первой ячейке и его записывания в последней так же, как мы делали это раньше. 

8. Наконец, запустите файл `3_user.ipunb`. Считайте лемматизированный CSV из прошлого пункта (замените во второй ячейке путь файла: 

`vkr = pd.read_csv(r'your_path', index_col='Unnamed: 0')`

9. Запустите все ячейки до второго этапа (ввод). Все, что происходит дальше совпадает с более простым путем, описанным выше :) 


